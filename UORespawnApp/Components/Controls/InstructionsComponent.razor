@page "/instructions"

<div class="container-fluid p-3">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            
            <!-- Header -->
            <div class="card map-card mb-4">
                <div class="card-header text-center">
                    <h3 class="mb-0">
                        <span class="bi bi-book" style="color: goldenrod;"></span> <span style="color: goldenrod;">Instructions</span>
                    </h3>
                </div>
                <div class="card-body text-center">
                    <p class="lead mb-2">Welcome to the UORespawn Editor!</p>
                    <p class="text-muted mb-0">A professional spawn management system for Ultima Online servers running ServUO.</p>
                    <p class="text-muted mb-0">Features player-centric spawning, intelligent mob recycling, and real-time performance monitoring.</p>
                    <p class="text-muted mb-0 small mt-2">
                        Version @Utility.Version | Built with .NET 10 MAUI | Binary Serialization
                    </p>
                </div>
            </div>

            <!-- Table of Contents -->
            <div class="card map-card mb-4">
                <div class="card-header">
                    <strong><span class="bi bi-list-ol"></span> Table of Contents</strong>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <ul class="list-unstyled mb-0">
                                <li><a href="#getting-started" class="text-decoration-none">1. Getting Started</a></li>
                                <li><a href="#map-editor" class="text-decoration-none">2. Box Spawn Editor</a></li>
                                <li><a href="#region-spawn" class="text-decoration-none">3. Region Spawn System</a></li>
                                <li><a href="#world-spawn" class="text-decoration-none">4. Tile Spawn System</a></li>
                                <li><a href="#vendor-spawn" class="text-decoration-none">5. Vendor Spawn Editor</a></li>
                                <li><a href="#spawn-packs" class="text-decoration-none">6. Spawn Packs</a></li>
                                <li><a href="#settings" class="text-decoration-none">7. Settings & Configuration</a></li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <ul class="list-unstyled mb-0">
                                <li><a href="#maps" class="text-decoration-none">8. Maps</a></li>
                                <li><a href="#server-integration" class="text-decoration-none">9. Server Integration</a></li>
                                <li><a href="#admin-gui" class="text-decoration-none">10. Admin GUI & Commands</a></li>
                                <li><a href="#tips" class="text-decoration-none">11. Tips & Best Practices</a></li>
                                <li><a href="#debug-mode" class="text-decoration-none">12. Debug Mode</a></li>
                                <li><a href="#support" class="text-decoration-none">13. Support & Resources</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 1. Getting Started -->
            <div class="card map-card mb-4" id="getting-started">
                <div class="card-header">
                    <strong><span class="bi bi-play-circle"></span> 1. Getting Started</strong>
                </div>
                <div class="card-body">
                    <h6 class="text-primary"><span class="bi bi-question-circle me-2"></span>What is UORespawn v2.0?</h6>
                    <p>
                        UORespawn is a high-performance, production-ready spawn system that provides three complementary ways 
                        to populate your Ultima Online world with creatures:
                    </p>
                    <ul>
                        <li><strong>Box Spawns:</strong> Manual spawn boxes you draw directly on the map</li>
                        <li><strong>Region Spawns:</strong> Automatic spawns based on named server regions (Britain, Dungeon Despise, etc.)</li>
                        <li><strong>Tile Spawns:</strong> Automatic spawns based on terrain tile types (grass, forest, water, etc.)</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-key me-2"></span>Key v2.0 Features</h6>
                    <ul>
                        <li><strong>Binary Serialization:</strong> Fast, efficient data loading (no more CSV files)</li>
                        <li><strong>Intelligent Recycling:</strong> Up to 60% mob reuse for optimal performance</li>
                        <li><strong>Professional Admin GUI:</strong> In-game control panel with live statistics</li>
                        <li><strong>Region Name Lookup:</strong> Spawn by named regions instead of coordinates</li>
                        <li><strong>Edge Case Tracking:</strong> Automatic cleanup of orphaned spawns on server restart</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-flag me-2"></span>First Steps</h6>
                    <ol>
                        <li>Navigate using the <strong>left sidebar menu</strong></li>
                        <li>Configure your <strong>Settings</strong> (especially the Server Integration folder)</li>
                        <li>Choose your map from the <strong>map selector dropdown</strong></li>
                        <li>Start creating spawns using any of the three systems!</li>
                    </ol>

                    <div class="alert alert-info mt-3">
                        <span class="bi bi-lightbulb"></span> <strong>Tip:</strong> Changes are saved when you click 
                        <strong>Save All</strong> in the navigation menu, or automatically when the application closes. 
                        If you've configured a ServUO Data folder, files sync automatically.
                    </div>
                </div>
            </div>

            <!-- 2. Box Spawn Editor -->
            <div class="card map-card mb-4" id="map-editor">
                <div class="card-header">
                    <strong><span class="bi bi-map"></span> 2. Box Spawn Editor</strong>
                </div>
                <div class="card-body">
                    <h6 class="text-primary"><span class="bi bi-pencil-square me-2"></span>Creating Spawn Boxes</h6>
                    <ol>
                        <li>Click <strong>"Box Spawn"</strong> in the left navigation</li>
                        <li>Select your map from the dropdown (Felucca, Trammel, Ilshenar, etc.)</li>
                        <li><strong>Left-click and drag</strong> on the map to draw a spawn box</li>
                        <li>Release to create the spawn box (minimum 3x3 pixels)</li>
                        <li>Click on the spawn in the right panel to edit it</li>
                    </ol>

                    <h6 class="text-primary mt-4"><span class="bi bi-dpad me-2"></span>Map Controls</h6>
                    <ul>
                        <li><strong>Left-Drag:</strong> Draw spawn box</li>
                        <li><strong>Right-Drag:</strong> Pan the map</li>
                        <li><strong>WASD / Arrow Keys:</strong> Pan the map smoothly (supports diagonal movement)</li>
                        <li><strong>Zoom Toggle:</strong> Switch between 1x (actual size) and 2x (zoomed) view</li>
                        <li><strong>Mini-Map:</strong> Click anywhere to jump to that location</li>
                        <li><strong>Reset Button:</strong> Return to map origin (0, 0)</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-plus-circle me-2"></span>Adding Creatures</h6>
                    <ol>
                        <li>Select a spawn box from the list</li>
                        <li>Click the <strong>Common</strong>, <strong>Uncommon</strong>, or <strong>Rare</strong> button</li>
                        <li>In the modal, search and add creatures from the bestiary</li>
                        <li>Click <strong>Save</strong> - changes auto-save immediately</li>
                    </ol>

                    <h6 class="text-primary mt-4"><span class="bi bi-layers me-2"></span>Priority System</h6>
                    <p>
                        Spawn boxes have a <strong>Priority</strong> value (P0, P1, P2, etc.) shown in badges:
                    </p>
                    <ul>
                        <li><strong>P0:</strong> Base priority (no overlap)</li>
                        <li><strong>P1+:</strong> Nested or overlapping spawns get higher priority</li>
                        <li>Higher priority spawns appear <strong>brighter</strong> on the map</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-clock me-2"></span>Timed Spawns</h6>
                    <p>
                        Use the dropdown to spawn creatures at specific times:
                    </p>
                    <ul>
                        <li>Witching hour, Middle of night, Early morning, etc.</li>
                        <li>Great for nocturnal creatures or day/night variations</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-pip me-2"></span>Mini Map Features</h6>
                    <ul>
                        <li><strong>Green Rectangle:</strong> Shows your current viewport</li>
                        <li><strong>Click Anywhere:</strong> Jump to that location</li>
                        <li><strong>Reset Button:</strong> Icon in top-left corner</li>
                        <li><strong>Toggle Buttons:</strong>
                            <ul>
                                <li><span class="badge bg-success">Green</span> = Feature ON</li>
                                <li><span class="badge bg-danger">Red</span> = Feature OFF</li>
                            </ul>
                        </li>
                        <li><strong>XML Toggle:</strong> Show XML spawner locations (green circles with X markers)
                            <ul>
                                <li>Hover over a spawner to highlight it</li>
                                <li>Click to show tooltip with location and home range</li>
                            </ul>
                        </li>
                        <li><strong>Spawns Toggle:</strong> Show server spawn statistics (colored dots per player)
                            <ul>
                                <li>Each player has a unique color</li>
                                <li>Hover over a dot - after a brief pause, a tooltip appears showing player name, location, and total spawn events</li>
                                <li>Useful for visualizing where spawns are occurring most frequently</li>
                            </ul>
                        </li>
                    </ul>

                    <div class="alert alert-warning mt-3">
                        <span class="bi bi-exclamation-triangle"></span> <strong>Note:</strong> The spawn statistics overlay 
                        requires server-side data. Use the <code>[PushRespawnStats</code> command in-game (triggers on World Save) 
                        to generate the data that the editor visualizes on the map.
                    </div>
                </div>
            </div>

            <!-- 3. Region Spawn System -->
            <div class="card map-card mb-4" id="region-spawn">
                <div class="card-header">
                    <strong><span class="bi bi-pin-map-fill"></span> 3. Region Spawn System</strong>
                </div>
                <div class="card-body">
                    <h6 class="text-primary"><span class="bi bi-gear-wide-connected me-2"></span>How It Works</h6>
                    <p>
                        Region Spawns automatically place creatures based on <strong>named server regions</strong>.
                        When a player enters a named region (like "Britain" or "Dungeon Despise"), the system spawns 
                        creatures configured specifically for that area.
                    </p>

                    <h6 class="text-primary mt-4"><span class="bi bi-sliders me-2"></span>Configuration</h6>
                    <ol>
                        <li>Click <strong>"Region Spawn"</strong> in the navigation</li>
                        <li>Select your map from the dropdown</li>
                        <li>Click on a <strong>region</strong> on the map or in the list</li>
                        <li>Configure spawns for six frequency tiers:
                            <ul>
                                <li><strong>Water:</strong> Water-specific spawns (sea creatures)</li>
                                <li><strong>Weather:</strong> Weather-triggered spawns (storms, rain)</li>
                                <li><strong>Timed:</strong> Time-of-day spawns (night creatures)</li>
                                <li><strong>Common:</strong> Spawns frequently</li>
                                <li><strong>Uncommon:</strong> Spawns occasionally</li>
                                <li><strong>Rare:</strong> Spawns rarely</li>
                            </ul>
                        </li>
                    </ol>

                    <h6 class="text-primary mt-4"><span class="bi bi-search me-2"></span>Region Name Lookup</h6>
                    <p>
                        UORespawn uses <strong>named regions</strong> from your ServUO server
                        (case-insensitive). The region list is automatically generated by the server on startup.
                    </p>

                    <h6 class="text-primary mt-4"><span class="bi bi-hash me-2"></span>Map Index Numbers</h6>
                    <p>
                        Each region on the map displays its <strong>list index number</strong> for quick identification.
                        Use the search input in the region list header to jump directly to a region by its number.
                        The region name appears when you hover over or select a region.
                    </p>

                    <h6 class="text-primary mt-4"><span class="bi bi-list-check me-2"></span>Example Setups</h6>
                    <p><strong>Britain (Town):</strong></p>
                    <ul>
                        <li>Common: TownNPC, WorldNPC</li>
                        <li>Rare: AmbushNPC (occasional pickpocket events)</li>
                    </ul>

                    <p><strong>Dungeon Despise:</strong></p>
                    <ul>
                        <li>Common: Lizardman, Troll, Ogre</li>
                        <li>Uncommon: OgreLord, Titan</li>
                        <li>Rare: Ancient Wyrm, Balron</li>
                    </ul>

                    <div class="alert alert-info mt-3">
                        <span class="bi bi-lightbulb"></span> <strong>Tip:</strong> Region Spawns have priority over 
                        World Spawns! Configure specific dungeons and towns with region spawns, then use world spawns 
                        for general wilderness areas. The Region Spawn page also has XML and Spawns toggles in the mini-map 
                        for visualizing spawner locations and statistics.
                    </div>
                </div>
            </div>

            <!-- 4. Tile Spawn System -->
            <div class="card map-card mb-4" id="world-spawn">
                <div class="card-header">
                    <strong><span class="bi bi-grid-3x3-gap"></span> 4. Tile Spawn System</strong>
                </div>
                <div class="card-body">
                    <h6 class="text-primary"><span class="bi bi-gear-wide-connected me-2"></span>How It Works</h6>
                    <p>
                        Tile Spawns automatically place creatures based on <strong>terrain tile types</strong>.
                        When a player enters an area, the system checks the ground tiles and spawns appropriate creatures.
                    </p>

                    <h6 class="text-primary mt-4"><span class="bi bi-sliders me-2"></span>Configuration</h6>
                    <ol>
                        <li>Click <strong>"Tile Spawn"</strong> in the navigation</li>
                        <li>Select a <strong>tile type</strong> from the left list (Grass, Forest, Jungle, etc.)</li>
                        <li>Configure spawns for six frequency tiers:
                            <ul>
                                <li><strong>Water:</strong> Water-specific spawns (sea creatures)</li>
                                <li><strong>Weather:</strong> Weather-triggered spawns (storms, rain)</li>
                                <li><strong>Timed:</strong> Time-of-day spawns (night creatures)</li>
                                <li><strong>Common:</strong> Spawns frequently</li>
                                <li><strong>Uncommon:</strong> Spawns occasionally</li>
                                <li><strong>Rare:</strong> Spawns rarely</li>
                            </ul>
                        </li>
                    </ol>

                    <h6 class="text-primary mt-4"><span class="bi bi-grid-fill me-2"></span>Tile Types Available</h6>
                    <div class="row">
                        <div class="col-md-4">
                            <ul>
                                <li>Grass / Dirt</li>
                                <li>Forest / Jungle</li>
                                <li>Snow / Swamp</li>
                                <li>Sand / Sand Stone</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <ul>
                                <li>Cave / Cave Floor</li>
                                <li>Water / Leaves</li>
                                <li>Stone / Stone Moss</li>
                                <li>Marble / Obsidian</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <ul>
                                <li>Brick / Cobblestones</li>
                                <li>Wooden Floor / Planks</li>
                                <li>Cloud / Void</li>
                                <li>And more...</li>
                            </ul>
                        </div>
                    </div>

                    <h6 class="text-primary mt-4"><span class="bi bi-list-check me-2"></span>Example Setup</h6>
                    <p><strong>Forest Tile:</strong></p>
                    <ul>
                        <li><strong>Common:</strong> Deer, Rabbit, Orc, Ettin</li>
                        <li><strong>Uncommon:</strong> Great Hart, Orc Captain</li>
                        <li><strong>Rare:</strong> White Wolf, Orc Lord</li>
                        <li><strong>Timed:</strong> Shade, Wraith (night spawns)</li>
                    </ul>

                    <div class="alert alert-info mt-3">
                        <span class="bi bi-lightbulb"></span> <strong>Tip:</strong> Tile Spawns apply to ALL maps! 
                        Configure once, and it works everywhere grass, forest, water, etc. appears.
                    </div>
                </div>
            </div>

            <!-- 5. Vendor Spawn Editor -->
            <div class="card map-card mb-4" id="vendor-spawn">
                <div class="card-header">
                    <strong><span class="bi bi-shop"></span> 5. Vendor Spawn Editor</strong>
                </div>
                <div class="card-body">
                    <h6 class="text-primary"><span class="bi bi-gear-wide-connected me-2"></span>How It Works</h6>
                    <p>
                        The Vendor Spawn Editor allows you to configure which vendors spawn at each shop sign and hive location.
                        Unlike creature spawns that use proximity detection, vendor spawns are tied to <strong>specific sign/hive locations</strong>.
                        The server reads your configuration and places vendors appropriately.
                    </p>

                    <h6 class="text-primary mt-4"><span class="bi bi-signpost me-2"></span>Sign Types & Hives</h6>
                    <p>The editor organizes locations by <strong>sign type</strong>:</p>
                    <ul>
                        <li><strong>Shop Signs:</strong> Bakery, Blacksmith, Tailor, Mage, Healer, Bank, Tavern, and many more</li>
                        <li><strong>Guild Signs:</strong> Fighter's Guild, Mage's Guild, Thieves' Guild, etc.</li>
                        <li><strong>Hives (Metal Posts):</strong> Beekeeping locations that spawn Beekeepers</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-card-list me-2"></span>Using the Vendor Spawn Page</h6>
                    <ol>
                        <li>Click <strong>"Vendor Spawn"</strong> in the left navigation</li>
                        <li>Select your map from the dropdown</li>
                        <li>Browse <strong>Sign Type cards</strong> in the right panel - each card groups all locations of that type</li>
                        <li>Click a card to expand it and see all locations</li>
                        <li>Click a <strong>specific location</strong> in the list to focus it (highlights on map)</li>
                        <li>Click the <span class="bi bi-person-plus-fill"></span> button on the focused location to open the vendor modal</li>
                        <li>Search and add vendors from the vendor list - <strong>duplicates allowed!</strong> (e.g., 3 Beekeepers at one hive)</li>
                        <li>Click <strong>Save</strong> to save vendors for that location</li>
                    </ol>

                    <h6 class="text-primary mt-4"><span class="bi bi-map me-2"></span>Map Features</h6>
                    <ul>
                        <li><strong>Sign Markers:</strong> Each sign location is shown with a custom icon based on its type</li>
                        <li><strong>Hive Markers:</strong> Beehive locations shown with hexagon icons</li>
                        <li><strong>Green Glow:</strong> Locations with vendors assigned get a green highlight</li>
                        <li><strong>Gold Highlight:</strong> Currently focused/selected location</li>
                        <li><strong>Click Markers:</strong> Click any marker on the map to select it and its sign type</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-people-fill me-2"></span>Add to All Locations (Bulk Add)</h6>
                    <p>
                        Need the same vendors at every location of a sign type? Use the <strong>Add to All</strong> button:
                    </p>
                    <ol>
                        <li>Click a sign type card to expand it</li>
                        <li>Click the <strong>"Add to All X Locations"</strong> button at the top of the locations list</li>
                        <li>Select vendors in the modal - these will be <strong>added</strong> to every location</li>
                        <li>Click Save - vendors are added to all locations at once!</li>
                    </ol>
                    <p class="small text-muted">
                        <span class="bi bi-info-circle me-1"></span>Bulk add doesn't replace existing vendors - it adds to them. 
                        If a location already has a Baker, adding "Cook" via bulk add gives it both Baker and Cook.
                    </p>

                    <h6 class="text-primary mt-4"><span class="bi bi-person-lines-fill me-2"></span>Per-Location Vendors</h6>
                    <p>
                        Each location has its own vendor list. This allows fine-grained control:
                    </p>
                    <ul>
                        <li>Britain's main bakery might have 2 Bakers and 1 Cook</li>
                        <li>A small village bakery might have just 1 Baker</li>
                        <li>One hive could have 3 Beekeepers while another has 1</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-list-check me-2"></span>Example Setup</h6>
                    <p><strong>Bakery Sign &#64; Britain (1456, 1632):</strong></p>
                    <ul>
                        <li>Baker (x2)</li>
                        <li>Cook</li>
                    </ul>
                    <p><strong>Hive &#64; Yew (542, 982):</strong></p>
                    <ul>
                        <li>Beekeeper (x3)</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-badge-cc me-2"></span>Card Badge System</h6>
                    <p>Each sign type card shows a badge indicating how many locations have vendors:</p>
                    <ul>
                        <li><span class="badge bg-success">3/19</span> = 3 out of 19 Bakery locations have vendors configured</li>
                        <li>The <span class="bi bi-arrow-clockwise text-warning"></span> button clears all vendors for that sign type</li>
                    </ul>

                    <div class="alert alert-info mt-3">
                        <span class="bi bi-lightbulb"></span> <strong>Tip:</strong> Use the mini-map to quickly navigate 
                        between towns. The XML and Spawns toggles work here too, so you can see existing XML spawners 
                        while configuring vendor spawns.
                    </div>

                    <div class="alert alert-success mt-3">
                        <span class="bi bi-lightning-charge"></span> <strong>Quick Setup Workflow:</strong>
                        <ol class="mb-0 mt-2">
                            <li>Use <strong>Add to All</strong> to set base vendors for each sign type (e.g., Baker for all Bakeries)</li>
                            <li>Then customize specific locations that need more/different vendors</li>
                        </ol>
                    </div>

                    <div class="alert alert-warning mt-3">
                        <span class="bi bi-exclamation-triangle"></span> <strong>Note:</strong> Sign and hive location data 
                        is automatically generated by the server on startup. Ensure your server has run at least once to create these files.
                    </div>
                </div>
            </div>

            <!-- 6. Spawn Packs -->
            <div class="card map-card mb-4" id="spawn-packs">
                <div class="card-header">
                    <strong><span class="bi bi-boxes"></span> 6. Spawn Packs</strong>
                </div>
                <div class="card-body">
                    <h6 class="text-primary"><span class="bi bi-question-circle me-2"></span>What are Spawn Packs?</h6>
                    <p>
                        Spawn Packs are pre-configured collections of spawn data
                        with a single click. Instead of manually creating spawns from scratch, you can use community-created 
                        packs, create your own from scratch, or import configurations shared by others.
                    </p>

                    <div class="alert alert-info">
                        <span class="bi bi-info-circle"></span> <strong>Note:</strong> The editor launches with a default 
                        spawn pack applied. If you want to start completely fresh, use <strong>Create New Pack</strong> to 
                        create an empty pack and apply it.
                    </div>

                    <h6 class="text-primary mt-4"><span class="bi bi-folder2 me-2"></span>Pack Categories</h6>
                    <ul>
                        <li><strong><span class="bi bi-patch-check me-1"></span>Approved:</strong>
                            These are bundled with the application. They can be edited like any other pack, but cannot be deleted.
                            To restore an approved pack to its original state, re-download the application.</li>
                        <li><strong><span class="bi bi-pencil-square me-1"></span>Created:</strong> Packs you've created from scratch using the editor. 
                            Start with empty spawn data and build your own configuration from the ground up.</li>
                        <li><strong><span class="bi bi-cloud-download me-1"></span>Imported:</strong> Custom packs you've imported from zip files shared by others. 
                            These are stored in your local <code>Data/PACKS/Imported</code> folder.</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-speedometer2 me-2"></span>Pack Dashboard</h6>
                    <p>When you select a pack, the dashboard shows detailed statistics:</p>
                    <ul>
                        <li><strong>Box Spawns:</strong> Total spawn entries across all box locations (with location count shown below)</li>
                        <li><strong>Tile Spawns:</strong> Total spawn entries across all tile types (with location count shown below)</li>
                        <li><strong>Region Spawns:</strong> Total spawn entries across all regions (with location count shown below)</li>
                        <li><strong>Vendor Spawns:</strong> Total vendor entries across all signs/hives (with location count shown below)</li>
                        <li><strong>Maps:</strong> Number of maps with spawn data</li>
                        <li><strong>Total Entries:</strong> Sum of all spawn entries across all categories</li>
                    </ul>
                    <p>The dashboard also shows spawn breakdown by frequency type (Water, Weather, Timed, Common, Uncommon, Rare, Vendor).</p>

                    <h6 class="text-primary mt-4"><span class="bi bi-card-heading me-2"></span>Pack Card Features</h6>
                    <p>Each spawn pack card displays:</p>
                    <ul>
                        <li><strong>Preview Image:</strong> Visual representation of the pack's theme</li>
                        <li><strong>Author:</strong> Who created the pack</li>
                        <li><strong>Action Buttons:</strong>
                            <ul>
                                <li><span class="bi bi-heart"></span> <strong>Like:</strong> Mark packs you enjoy</li>
                                <li><span class="bi bi-star"></span> <strong>Favorite:</strong> Star your preferred packs</li>
                                <li><span class="bi bi-check2-circle"></span> <strong>Apply:</strong> Load this pack's spawn data</li>
                                <li><span class="bi bi-info-circle"></span> <strong>Info:</strong> Hover to see pack description (Default pack opens ecology modal)</li>
                                <li><span class="bi bi-trash"></span> <strong>Delete:</strong> Remove packs (created and imported packs only, not available for approved packs)</li>
                            </ul>
                        </li>
                    </ul>

                    <div class="alert alert-secondary">
                        <span class="bi bi-shield-check"></span> <strong>Pack Rules:</strong>
                        <ul class="mb-0 mt-2">
                            <li><strong>Approved packs</strong> cannot be deleted (they ship with the app) but can be edited</li>
                            <li><strong>Created/Imported packs</strong> can be edited and deleted</li>
                            <li>To delete the currently loaded pack, first apply a different pack</li>
                            <li>To restore an approved pack, re-download the application</li>
                        </ul>
                    </div>

                    <h6 class="text-primary mt-4"><span class="bi bi-plus-square me-2"></span>Creating a New Pack</h6>
                    <p>Want to build your spawn configuration from scratch? Here's how:</p>
                    <ol>
                        <li>Navigate to <strong>Spawn Packs</strong> in the left menu</li>
                        <li>Click <strong>Create New Pack</strong> in the Pack Dashboard footer</li>
                        <li>Enter a name and optional description for your pack</li>
                        <li>Click <strong>Create Pack</strong> - an empty pack will be created and <strong>automatically applied</strong></li>
                        <li>Use the Box Spawn, Region Spawn, and Tile Spawn pages to build your configuration</li>
                        <li>Your changes are automatically saved back to the pack</li>
                    </ol>

                    <h6 class="text-primary mt-4"><span class="bi bi-check2-circle me-2"></span>Applying a Spawn Pack</h6>
                    <ol>
                        <li>Navigate to <strong>Spawn Packs</strong> in the left menu</li>
                        <li>Switch between <strong>Approved</strong>, <strong>Created</strong>, and <strong>Imported</strong> tabs to browse packs</li>
                        <li>Click on a pack card to view its statistics in the dashboard</li>
                        <li>Click the <span class="bi bi-check2-circle"></span> <strong>Apply</strong> button on the card</li>
                        <li>Your current spawn data will be replaced with the pack's configuration</li>
                        <li>Use <code>[SpawnReload</code> in-game to load the new data on your server</li>
                    </ol>

                    <div class="alert alert-warning mt-3">
                        <span class="bi bi-exclamation-triangle"></span> <strong>Warning:</strong> Applying a spawn pack 
                        will <strong>replace</strong> your current spawn data (Box, Tile, Region spawns and Settings). 
                        Consider exporting your current configuration first if you want to preserve it!
                    </div>

                    <h6 class="text-primary mt-4"><span class="bi bi-cloud-download me-2"></span>Importing a Spawn Pack</h6>
                    <ol>
                        <li>Click <strong>Import Spawn Pack</strong> in the Pack Dashboard footer</li>
                        <li>Click <strong>Choose Zip</strong> and select a spawn pack zip file</li>
                        <li>The system will validate the zip contains valid UOR spawn data files</li>
                        <li>Optionally provide a custom name, description, and preview image</li>
                        <li>Click <strong>Import Pack</strong> to add it to your Imported packs</li>
                    </ol>
                    <p class="small text-muted">
                        Imported packs are stored in <code>Data/PACKS/Imported/[PackName]/</code> and appear in the Imported tab.
                    </p>

                    <h6 class="text-primary mt-4"><span class="bi bi-cloud-upload me-2"></span>Exporting Your Spawn Data</h6>
                    <ol>
                        <li>Create and configure your spawns using the Map, Region, and Tile Spawn pages</li>
                        <li>Go to <strong>Spawn Packs</strong> and click <strong>Export Spawn Pack</strong></li>
                        <li>A zip file containing all your spawn data will be created</li>
                        <li>Share this zip with others or keep it as a backup</li>
                    </ol>

                    <h6 class="text-primary mt-4"><span class="bi bi-send me-2"></span>Submitting a Spawn Pack for Approval</h6>
                    <p>Want your pack included as an official Approved pack? Here's how:</p>
                    <ol>
                        <li>Create a complete, well-tested spawn configuration</li>
                        <li>Click <strong>Submit Spawn Pack</strong> in the Pack Dashboard</li>
                        <li>Fill in the pack name and description</li>
                        <li>Select a preview image that represents your pack's theme</li>
                        <li>Click <strong>Compose Email</strong> - this creates a zip and opens your email client</li>
                        <li>Attach the generated zip file and send it for review</li>
                    </ol>

                    <div class="alert alert-info mt-3">
                        <span class="bi bi-lightbulb"></span> <strong>Tip:</strong> When creating packs for submission, 
                        include a variety of spawn types (Box, Tile, Region) and make sure creature names match 
                        standard ServUO mobile classes for maximum compatibility.
                    </div>

                    <h6 class="text-primary mt-4"><span class="bi bi-file-earmark-zip me-2"></span>Pack Contents</h6>
                    <p>A spawn pack zip file contains:</p>
                    <ul>
                        <li><code>UOR_SpawnSettings.bin</code> - System configuration (ranges, chances, options)</li>
                        <li><code>UOR_BoxSpawn.bin</code> - Map spawn boxes</li>
                        <li><code>UOR_TileSpawn.bin</code> - World tile spawns</li>
                        <li><code>UOR_RegionSpawn.bin</code> - Named region spawns</li>
                        <li><code>UOR_VendorSpawn.bin</code> - Vendor spawn configurations</li>
                        <li><code>pack.json</code> - Pack name, author, description</li>
                        <li><code>preview.png/jpg</code> - Preview image (optional)</li>
                    </ul>
                </div>
            </div>

            <!-- 7. Settings & Configuration -->
            <div class="card map-card mb-4" id="settings">
                <div class="card-header">
                    <strong><span class="bi bi-gear"></span> 7. Settings & Configuration</strong>
                </div>
                <div class="card-body">
                    <h6 class="text-primary"><span class="bi bi-sliders me-2"></span>Spawn Settings</h6>
                    <ul>
                        <li><strong>Spawn Range Min/Max:</strong> Distance from player where creatures can spawn</li>
                        <li><strong>Max Mobs:</strong> Maximum creatures within Max Range</li>
                        <li><strong>Max Crowd:</strong> Maximum creatures within Min Range</li>
                        <li><strong>Common/Uncommon/Rare Chances:</strong> Probability for each rarity tier (0.0 to 1.0)</li>
                        <li><strong>Water/Weather/Timed Chances:</strong> Environmental spawn probabilities</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-toggles me-2"></span>Spawn Options</h6>
                    <ul>
                        <li><strong>Scale Spawn:</strong> Increase spawns based on player count in area</li>
                        <li><strong>Rift Spawn:</strong> Allow Trammel creatures to spawn in Felucca</li>
                        <li><strong>Debug Spawn:</strong> Enable placeholder spawns for testing</li>
                    </ul>

                    <!-- Vendor Spawn Subsection -->
                    <h6 class="text-primary mt-4"><span class="bi bi-shop me-2"></span>Vendor Spawn System</h6>
                    <p>
                        The Vendor Spawn system automatically populates your towns with appropriate vendors, guildmasters, 
                        and town NPCs based on <strong>in-game shop signs</strong>. When enabled, the system detects sign 
                        types throughout the world and spawns contextually appropriate NPCs near them.
                    </p>

                    <p><strong>How It Works:</strong></p>
                    <ul>
                        <li>The system scans for shop signs (Blacksmith, Tailor, Mage Shop, etc.)</li>
                        <li>Based on the sign type, appropriate vendors are spawned nearby</li>
                        <li>Guildmaster halls spawn relevant guildmasters</li>
                        <li>General town signs spawn common town NPCs</li>
                    </ul>

                    <p><strong>Example Sign → Vendor Mappings:</strong></p>
                    <ul>
                        <li><span class="bi bi-signpost me-1"></span> <strong>Blacksmith Sign:</strong> Blacksmith, Armorer, Weaponsmith</li>
                        <li><span class="bi bi-signpost me-1"></span> <strong>Tailor Sign:</strong> Tailor, Weaver, Cobbler</li>
                        <li><span class="bi bi-signpost me-1"></span> <strong>Mage Shop Sign:</strong> Mage, Alchemist, Scribe</li>
                        <li><span class="bi bi-signpost me-1"></span> <strong>Healer Sign:</strong> Healer, Veterinarian</li>
                        <li><span class="bi bi-signpost me-1"></span> <strong>Inn Sign:</strong> Innkeeper, Barkeeper, Cook</li>
                        <li><span class="bi bi-signpost me-1"></span> <strong>Fighters Guild:</strong> Fighters Guildmaster</li>
                        <li><span class="bi bi-signpost me-1"></span> <strong>Mages Guild:</strong> Mages Guildmaster</li>
                        <li><em>...and many more!</em></li>
                    </ul>

                    <p><strong>Enabling Vendor Spawn:</strong></p>
                    <ol>
                        <li>Go to <strong>Settings</strong></li>
                        <li>Find the <strong>Vendor Spawn</strong> subsection under Spawn Settings</li>
                        <li>Toggle <strong>Enabled</strong> to turn the system on</li>
                        <li>Use <code>[SpawnReload</code> in-game to apply the change</li>
                    </ol>

                    <p><strong>Additional Vendor Options:</strong></p>
                    <ul>
                        <li><strong>Night Sleep:</strong> When enabled, vendors "sleep" at night - players won't find vendors out during night hours. 
                            Disable this for 24/7 vendor availability. Great for shards wanting realism!</li>
                        <li><strong>Extra Townsfolk:</strong> When enabled, extra TownNPCs spawn alongside vendors to boost town population and 
                            make it look like there are shoppers walking around. Adds life and activity to your towns!</li>
                    </ul>

                    <div class="alert alert-info mt-3">
                        <span class="bi bi-lightbulb"></span> <strong>Tip:</strong> Vendor Spawn handles approximately 
                        90% of standard town vendor placement automatically! This saves significant time compared to 
                        manually placing each vendor with XML spawners.
                    </div>

                    <div class="alert alert-success mt-3">
                        <span class="bi bi-check-circle"></span> <strong>Vendor Spawn Editor Available!</strong>
                        <p class="mb-0 mt-2">
                            Use the <strong>Vendor Spawn</strong> page to customize vendor lists per location. 
                            See <a href="#vendor-spawn" class="alert-link">Section 5: Vendor Spawn Editor</a> for details.
                        </p>
                    </div>

                    <h6 class="text-primary mt-4"><span class="bi bi-palette me-2"></span>Spawn Box Appearance</h6>
                    <ul>
                        <li><strong>Base Box Color:</strong> Choose the color for Priority 0 spawn boxes</li>
                        <li><strong>Line Thickness:</strong> Width of spawn box lines (1-5px)</li>
                        <li><strong>Priority Colors:</strong> Priorities 1-24 use distinct colors (red → orange → yellow → green → cyan → blue → violet → pink) for visual clarity when boxes overlap</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-book me-2"></span>Server Data Lists (Auto-Generated)</h6>
                    <p>
                        The editor relies on data generated by your ServUO server. These lists are <strong>auto-generated on server startup</strong> 
                        and serve as the <strong>source of truth</strong>. To update them, make changes on the server and restart:
                    </p>
                    <ul>
                        <li><strong>Bestiary List:</strong> Available creatures for spawning. Add new mobiles to your server, then restart</li>
                        <li><strong>Region List:</strong> Named regions for Region Spawn page. Regions are defined by the server</li>
                        <li><strong>Spawner List:</strong> XML spawner locations for the heatmap overlay</li>
                        <li><strong>Vendor List:</strong> NPC types available for vendor spawning</li>
                        <li><strong>Sign Data:</strong> Shop sign locations (auto-scanned from world)</li>
                        <li><strong>Hive Data:</strong> Beehive locations (auto-scanned from world)</li>
                    </ul>
                    <div class="alert alert-info mt-2 mb-3">
                        <span class="bi bi-info-circle"></span> <strong>Why Auto-Generated?</strong> The server scans your world and mobile definitions 
                        on startup to create accurate reference data. This ensures your spawns only reference mobiles and regions that actually exist.
                    </div>

                    <h6 class="text-primary mt-4"><span class="bi bi-person-badge me-2"></span>Special NPCs in Bestiary</h6>
                    <p>The bestiary includes predefined special NPCs with unique behaviors and effects. These can be used in any spawn system (Box, Region, or Tile):</p>

                    <p><strong>Interactive NPCs:</strong></p>
                    <ul>
                        <li><code>TownNPC</code> - Random NPCs to make your towns come to life!</li>
                        <li><code>WorldNPC</code> - Random travelers for roads or points of interest</li>
                        <li><code>AmbushNPC</code> - Triggers when player runs over - spawns a gang of random brigand bandits!</li>
                        <li><code>EffectNPC</code> - Tile reactive NPC - produces random effects!</li>
                    </ul>

                    <p><strong>Damage Effect NPCs (Hostile):</strong></p>
                    <ul>
                        <li><code>WaveEffectNPC</code> - Tile triggers wave damage effect</li>
                        <li><code>WindEffectNPC</code> - Tile triggers wind damage effect</li>
                        <li><code>FireEffectNPC</code> - Tile triggers fire damage effect</li>
                        <li><code>MistEffectNPC</code> - Tile triggers mist damage effect</li>
                        <li><code>PoisonEffectNPC</code> - Tile triggers poison damage effect</li>
                        <li><code>ElectricEffectNPC</code> - Tile triggers electric damage effect</li>
                        <li><code>ExplosionEffectNPC</code> - Tile triggers explosion damage effect</li>
                        <li><code>SmokeEffectNPC</code> - Tile triggers smoke damage effect</li>
                    </ul>

                    <p><strong>Healing Effect NPCs (Beneficial):</strong></p>
                    <ul>
                        <li><code>GlowEffectNPC</code> - Tile triggers healing glow effect</li>
                        <li><code>ConfettiEffectNPC</code> - Tile triggers healing confetti effect</li>
                        <li><code>MagicEffectNPC</code> - Tile triggers healing magic effect</li>
                    </ul>

                    <div class="alert alert-info mt-3">
                        <span class="bi bi-lightbulb"></span> <strong>Usage Tips:</strong>
                        <ul class="mb-0 mt-2">
                            <li><strong>TownNPC:</strong> Add to Common spawns in cities for ambient population</li>
                            <li><strong>AmbushNPC:</strong> Place in Rare spawns along roads for surprise encounters</li>
                            <li><strong>Effect NPCs:</strong> Use in dungeons or special areas for environmental hazards/healing zones</li>
                            <li><strong>WorldNPC:</strong> Add to roads and crossroads for traveling merchants and adventurers</li>
                        </ul>
                    </div>

                    <div class="alert alert-warning mt-3">
                        <span class="bi bi-exclamation-triangle"></span> <strong>Note:</strong> Effect NPCs are tile-reactive - 
                        they trigger when players walk over specific locations. Use sparingly to avoid overwhelming players!
                    </div>
                </div>
            </div>

            <!-- 8. Maps -->
            <div class="card map-card mb-4" id="maps">
                <div class="card-header">
                    <strong><span class="bi bi-map"></span> 8. Maps</strong>
                </div>
                <div class="card-body">
                    <h6 class="text-primary"><span class="bi bi-collection me-2"></span>Default Maps</h6>
                    <p>UORespawn includes all 6 standard Ultima Online maps that can be replaced with your custom map images:</p>
                    <ul>
                        <li><strong>Map0 (Felucca):</strong> 7168 x 4096 pixels</li>
                        <li><strong>Map1 (Trammel):</strong> 7168 x 4096 pixels</li>
                        <li><strong>Map2 (Ilshenar):</strong> 2304 x 1600 pixels</li>
                        <li><strong>Map3 (Malas):</strong> 2560 x 2048 pixels</li>
                        <li><strong>Map4 (Tokuno):</strong> 1448 x 1448 pixels</li>
                        <li><strong>Map5 (Ter Mur):</strong> 1280 x 4096 pixels</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-arrow-repeat me-2"></span>Replacing Default Maps</h6>
                    <ol>
                        <li>Go to <strong>Settings</strong> and find <strong>Map Management</strong></li>
                        <li>Select the map to replace from the dropdown (Map0-Map5)</li>
                        <li>A file picker opens - select your BMP image</li>
                        <li>Original maps are automatically backed up</li>
                        <li>Use <strong>Restore Original</strong> to revert to the original</li>
                    </ol>

                    <h6 class="text-primary mt-4"><span class="bi bi-plus-lg me-2"></span>Custom Maps (Beyond the Default 6)</h6>
                    <p>
                        UORespawn supports <strong>unlimited custom maps</strong> beyond the default 6, as supported by your server.
                        Custom maps are added and managed separately from default map replacement.
                    </p>

                    <div class="alert alert-warning mt-3">
                        <span class="bi bi-exclamation-triangle"></span> <strong>Important Rules for Custom Maps:</strong>
                        <ul class="mb-0 mt-2">
                            <li><strong>Sequential Map IDs:</strong> Maps must be added and removed in order. Map IDs are assigned sequentially starting at 6 (Map6, Map7, Map8, etc.)</li>
                            <li><strong>BMP Format Required:</strong> All map images must be in BMP format (.bmp)</li>
                            <li><strong>1:1 Scale:</strong> Images must be 1:1 pixel-to-game-tile scale (1 pixel = 1 game tile)</li>
                            <li><strong>Size Limits:</strong> Custom maps must be between 800 x 800 and 10000 x 10000 pixels</li>
                        </ul>
                    </div>

                    <h6 class="text-primary mt-4"><span class="bi bi-upload me-2"></span>Adding Custom Maps</h6>
                    <ol>
                        <li>Go to <strong>Settings</strong> and find <strong>Map Management</strong></li>
                        <li>Click <strong>Add Map[N]</strong> button (shows next available ID)</li>
                        <li>Select your custom BMP map image</li>
                        <li>Your custom map appears in the navigation alongside default maps</li>
                    </ol>

                    <div class="alert alert-info mt-3">
                        <span class="bi bi-lightbulb"></span> <strong>Tip:</strong> The 1:1 pixel-to-tile scale means your map image 
                        dimensions must exactly match your in-game map dimensions. If your custom map is 2000 x 1500 tiles in-game, 
                        your BMP must be exactly 2000 x 1500 pixels.
                    </div>
                </div>
            </div>

            <!-- 9. Server Integration -->
            <div class="card map-card mb-4" id="server-integration">
                <div class="card-header">
                    <strong><span class="bi bi-server"></span> 9. Server Integration</strong>
                </div>
                <div class="card-body">
                    <h6 class="text-primary"><span class="bi bi-gear-wide-connected me-2"></span>How UORespawn v2.0 Works</h6>
                    <p>
                        UORespawn is a <strong>player-centric spawn system</strong> where players become the spawners.
                        Instead of placing XML spawners throughout the world, creatures spawn dynamically around players
                        based on their location, terrain, regions, and nearby objects.
                    </p>

                    <h6 class="text-primary mt-4"><span class="bi bi-download me-2"></span>Server-Side Installation (Required)</h6>
                    <p><strong>Step 1: Install Server Scripts</strong></p>
                    <ol>
                        <li>Download the <code>UORespawnSystem</code> folder from the GitHub release</li>
                        <li>Copy to <code>ServUO\Scripts\Custom\UORespawnSystem\</code></li>
                        <li>Compile your ServUO server (rebuild solution)</li>
                        <li>Start the server - UORespawn initializes automatically</li>
                    </ol>
                    <p class="small text-muted">
                        Look for console messages: "|-|-|-|-|-|-|-| UORespawn |-|-|-|-|-|-|-|"
                    </p>

                    <p><strong>Step 2: Automatic File Generation</strong></p>
                    <p>UORespawn v2.0 automatically generates all reference files on server startup. No manual commands needed!</p>
                    <p>The server creates these files in <code>Data/UORespawn/OUTPUT/</code>:</p>
                    <ul>
                        <li><code>UOR_BestiaryList.txt</code> - Spawnable creatures from your bestiary</li>
                        <li><code>UOR_SpawnerList.txt</code> - XML spawner locations for heatmap overlay</li>
                        <li><code>UOR_RegionList.txt</code> - Named regions for Region Spawn page</li>
                        <li><code>UOR_VendorList.txt</code> - Vendor/NPC types for vendor spawning</li>
                        <li><code>UOR_SignData.txt</code> - Shop sign locations for vendor placement</li>
                        <li><code>UOR_HiveData.txt</code> - Beehive locations for beekeeper spawning</li>
                    </ul>
                    <p class="small text-muted">
                        These server-generated files are the <strong>source of truth</strong> for the editor. 
                        To add new creatures or regions, make changes on your server and restart it.
                    </p>

                    <h6 class="text-primary mt-4"><span class="bi bi-arrow-left-right me-2"></span>Automatic File Syncing (Windows/macOS)</h6>
                    <ol>
                        <li>In the editor, go to <strong>Settings</strong></li>
                        <li>Click <strong>Add Link</strong> under "ServUO Server Integration"</li>
                        <li>Select your main <code>ServUO\</code> folder</li>
                        <li>All spawn files will now auto-sync when you make changes!</li>
                    </ol>

                    <h6 class="text-primary mt-4"><span class="bi bi-cloud-upload me-1"></span>Remote Server Setup (Manual Transfer)</h6>
                    <p>
                        Running your server on a remote machine? The "Link Server" feature requires local file access, 
                        but you can still use UORespawn by manually transferring files between your editor and server.
                    </p>

                    <div class="alert alert-info mb-3">
                        <span class="bi bi-info-circle me-1"></span>
                        <strong>File Flow Overview:</strong> The editor creates spawn data files (<code>.bin</code>) that go to <code>Data/UORespawn/INPUT/</code>. 
                        The server creates reference lists (<code>.txt</code>) that go to <code>Data/UORespawn/OUTPUT/</code>. 
                        These server-generated lists are auto-created on startup - no commands needed!
                    </div>

                    <p><strong>Step 1: Export & Install Server Scripts (One-Time Setup)</strong></p>
                    <ol>
                        <li>Go to <strong>Settings → For Remote Servers</strong> (click to expand)</li>
                        <li>Click <strong>Export Server Scripts (.zip)</strong></li>
                        <li>Transfer the ZIP to your remote server</li>
                        <li>Extract contents to <code>ServUO/Scripts/Custom/UORespawn/</code></li>
                        <li>Recompile and restart your server</li>
                    </ol>

                    <p><strong>Step 2: Get Reference Files (Server → Editor)</strong></p>
                    <ol>
                        <li>Start your server once - reference files are generated automatically on startup</li>
                        <li>Copy these files from <code>ServUO/Data/UORespawn/OUTPUT/</code> on your server:
                            <ul>
                                <li><code>UOR_BestiaryList.txt</code> - Creature names for spawn selection</li>
                                <li><code>UOR_SpawnerList.txt</code> - XML spawner locations for heatmap</li>
                                <li><code>UOR_RegionList.txt</code> - Region definitions for Region Spawn page</li>
                                <li><code>UOR_VendorList.txt</code> - Vendor types for vendor spawning</li>
                                <li><code>UOR_SignData.txt</code> - Shop sign locations</li>
                                <li><code>UOR_HiveData.txt</code> - Beehive locations</li>
                            </ul>
                        </li>
                        <li>Place them in the editor's <code>Resources/Raw/</code> folder (this updates the app's default reference data)</li>
                    </ol>

                    <div class="alert alert-info mt-2 mb-3">
                        <span class="bi bi-info-circle"></span> <strong>Why Resources/Raw?</strong> The <code>Resources/Raw/</code> folder contains 
                        the app's bundled default reference data. When no server is linked, the editor uses these files. By copying your server's 
                        OUTPUT files here, you update what creatures, regions, signs, and hives are available for spawn configuration.
                        This is the <strong>source of truth</strong> when working offline or with a remote server.
                    </div>

                    <p><strong>Step 3: Export & Upload Spawn Data (Editor → Server)</strong></p>
                    <ol>
                        <li>Create your spawns using the editor pages</li>
                        <li>Go to <strong>Settings → For Remote Servers</strong></li>
                        <li>Click <strong>Export Spawn Data (.zip)</strong></li>
                        <li>Transfer the ZIP to your remote server</li>
                        <li>Extract contents to <code>ServUO/Data/UORespawn/INPUT/</code></li>
                        <li>In-game: <code>[SpawnReload</code> to load the new configurations</li>
                    </ol>

                    <p><strong>Step 4: Get Spawn Statistics (Optional - Server → Editor)</strong></p>
                    <ol>
                        <li>Play on your server to generate spawn activity data</li>
                        <li>In-game: <code>[PushRespawnStats</code> to save statistics</li>
                        <li>Copy files from <code>ServUO/Data/UORespawn/STATS/</code> to editor's <code>Data/UORespawn/STATS/</code></li>
                        <li>Toggle "Spawns" button in editor to view heatmap overlay</li>
                    </ol>

                    <div class="alert alert-warning mt-3">
                        <span class="bi bi-exclamation-triangle me-1"></span>
                        <strong>Remember:</strong> Repeat Step 3 whenever you make spawn changes in the editor. 
                        The export includes all your spawn settings, box spawns, tile spawns, and region spawns.
                    </div>

                    <h6 class="text-primary mt-4"><span class="bi bi-file-binary me-2"></span>Binary Files Generated by Editor</h6>
                    <p>The editor creates these binary files automatically:</p>
                    <ul>
                        <li><code>UOR_SpawnSettings.bin</code> - System configuration (ranges, chances, options)</li>
                        <li><code>UOR_BoxSpawn.bin</code> - Map spawn boxes (manual placements)</li>
                        <li><code>UOR_TileSpawn.bin</code> - Tile spawns (terrain-based)</li>
                        <li><code>UOR_RegionSpawn.bin</code> - Named region spawns</li>
                        <li><code>UOR_VendorSpawn.bin</code> - Vendor spawn configurations</li>
                    </ul>
                    <p class="small text-muted">
                        Binary serialization provides faster loading than CSV files used in v1.0.
                    </p>

                    <h6 class="text-primary mt-4"><span class="bi bi-diagram-3 me-2"></span>Workflow: Editor → Server</h6>
                    <ol>
                        <li><strong>Create spawns</strong> using the editor (Box, Region, Tile, or Vendor spawn pages)</li>
                        <li><strong>Files auto-save</strong> to <code>ServUO\Data\UORespawn\INPUT\</code> (if configured)</li>
                        <li><strong>In-game:</strong> <code>[SpawnReload</code> to load new configurations</li>
                        <li><strong>Test:</strong> Walk around - spawns appear dynamically around you!</li>
                        <li><strong>Monitor:</strong> Use <code>[SpawnAdmin</code> to view live statistics</li>
                        <li><strong>Visualize:</strong> Use editor's heatmap to see spawn distribution patterns</li>
                    </ol>

                    <h6 class="text-primary mt-4"><span class="bi bi-intersect me-2"></span>Compatibility with XML Spawners</h6>
                    <p>
                        UORespawn works <strong>alongside</strong> XML spawners - they complement each other:
                    </p>
                    <ul>
                        <li><strong>XML Spawners:</strong> Use for boss rooms, quest NPCs, town guards, static encounters</li>
                        <li><strong>UORespawn:</strong> Use for wilderness, dungeons, roads, random dynamic encounters</li>
                        <li><strong>Overlap Prevention:</strong> The editor shows XML spawner locations (green circles) - hover to highlight, click for details</li>
                    </ul>

                    <div class="alert alert-success mt-3">
                        <span class="bi bi-check-circle"></span> <strong>Pro Tip:</strong> All reference files (Bestiary, Spawner, Region, Vendor, Sign, Hive lists) 
                        are now auto-generated when the server starts. Just install the scripts, start your server, and you're ready to go!
                    </div>
                </div>
            </div>

            <!-- 10. Admin GUI & Commands -->
            <div class="card map-card mb-4" id="admin-gui">
                <div class="card-header">
                    <strong><span class="bi bi-terminal"></span> 10. Admin GUI & Commands</strong>
                </div>
                <div class="card-body">
                    <h6 class="text-primary"><span class="bi bi-window me-2"></span>Professional Admin Control Panel</h6>
                    <p>
                        UORespawn v2.0 includes a professional in-game Admin GUI with real-time statistics and controls.
                        Open it with <code>[SpawnAdmin</code> (GameMaster+ access required).
                    </p>

                    <h6 class="text-primary mt-4"><span class="bi bi-ui-checks me-2"></span>GUI Features</h6>
                    <ul>
                        <li><strong>System Status:</strong> Running/Paused indicator, active spawns, player count</li>
                        <li><strong>Recycle Pool:</strong> Mob reuse statistics and efficiency rate</li>
                        <li><strong>Cleanup Time:</strong> Performance metrics for the cleanup service</li>
                        <li><strong>Pause/Resume:</strong> Toggle spawning (cleanup continues while paused)</li>
                        <li><strong>Reload Data:</strong> Reload all binary files without server restart</li>
                        <li><strong>Debug Toggle:</strong> Enable/disable debug mode instantly</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-terminal me-2"></span>Admin Commands (v2.0)</h6>
                    <p><strong>Primary Commands (use GUI for most tasks):</strong></p>
                    <ul>
                        <li><code>[SpawnAdmin</code> - Open professional admin control panel (recommended)</li>
                        <li><code>[SpawnStatus</code> - Quick health check with key statistics</li>
                        <li><code>[SpawnMetrics</code> - Full performance metrics report (add "players" for per-player stats)</li>
                        <li><code>[SpawnMetricsReset</code> - Reset all performance metric counters</li>
                        <li><code>[SpawnReload</code> - Reload all binary data files (hot-reload without restart)</li>
                        <li><code>[SpawnPause</code> - Pause spawning (cleanup continues)</li>
                        <li><code>[SpawnResume</code> - Resume spawning</li>
                    </ul>

                    <p><strong>Utility Commands:</strong></p>
                    <ul>
                        <li><code>[DebugRespawn</code> - Toggle debug mode ON/OFF</li>
                        <li><code>[UpdateRespawn</code> - Force immediate spawn update for all players</li>
                        <li><code>[ReloadRespawn</code> - Reload spawn data from binary files</li>
                        <li><code>[ClearRespawn</code> - Clear and delete all tracked spawns</li>
                        <li><code>[TrackRespawn</code> - Show current spawn statistics</li>
                        <li><code>[PushRespawnStats</code> - Save spawn statistics for heatmap visualization</li>
                    </ul>

                    <p><strong>Recycle System Commands:</strong></p>
                    <ul>
                        <li><code>[SpawnRecycleStats</code> - Show detailed recycle pool statistics</li>
                        <li><code>[ClearRecycle</code> - Clear all mobs from recycle pool</li>
                    </ul>

                    <div class="alert alert-success mt-3">
                        <span class="bi bi-info-circle"></span> <strong>Note:</strong> Data generation commands (GenBestiaryList, GenRegionList, etc.) 
                        have been removed in v2.0. All reference files are now <strong>auto-generated on server startup</strong> - no manual commands needed!
                    </div>

                    <h6 class="text-primary mt-4"><span class="bi bi-speedometer2 me-2"></span>Performance Targets</h6>
                    <ul>
                        <li><strong>Recycle Rate:</strong> 30-60% is optimal (shows in Admin GUI)</li>
                        <li><strong>Cleanup Time:</strong> Should stay under 10ms</li>
                        <li><strong>Spawns Per Player:</strong> Target 12-15 active spawns</li>
                    </ul>

                    <div class="alert alert-info mt-3">
                        <span class="bi bi-lightbulb"></span> <strong>Command Syntax:</strong> All commands start with 
                        <code>[</code>. For example: type <code>[SpawnAdmin</code> and press Enter.
                    </div>
                </div>
            </div>

            <!-- 11. Tips & Best Practices -->
            <div class="card map-card mb-4" id="tips">
                <div class="card-header">
                    <strong><span class="bi bi-star"></span> 11. Tips & Best Practices</strong>
                </div>
                <div class="card-body">
                    <h6 class="text-primary"><span class="bi bi-box-arrow-in-down me-2"></span>Box Spawn Tips</h6>
                    <ul>
                        <li>Start with <strong>larger spawn boxes</strong> for roaming creatures</li>
                        <li>Use <strong>smaller boxes</strong> for stationary guards or dungeon spawns</li>
                        <li>Place <strong>rare creatures</strong> in hard-to-reach locations</li>
                        <li>Use <strong>priority</strong> to layer spawns (outdoor -> dungeon entrance -> inner rooms)</li>
                        <li>Combine <strong>multiple frequency tiers</strong> for variety</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-pin-map me-2"></span>Region Spawn Tips</h6>
                    <ul>
                        <li>Use <strong>named regions</strong> for consistent themed spawns (all of Britain, all of Dungeon Despise)</li>
                        <li>Combine with Box Spawns for <strong>layered control</strong></li>
                        <li>Great for <strong>dungeon-wide</strong> creature themes</li>
                        <li>Reduces need for many individual spawn boxes</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-grid-3x3 me-2"></span>Tile Spawn Tips</h6>
                    <ul>
                        <li>Use <strong>Common</strong> for passive wildlife, <strong>Rare</strong> for dangerous creatures</li>
                        <li>Make <strong>dangerous creatures rare</strong> in common areas</li>
                        <li>Use <strong>Water frequency</strong> for sea serpents, kraken, water elementals</li>
                        <li><strong>Desert</strong> tiles should have heat-resistant creatures</li>
                        <li><strong>Snow</strong> tiles need cold-adapted spawns</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-speedometer me-2"></span>Performance Tips</h6>
                    <ul>
                        <li>Avoid <strong>overlapping</strong> too many spawn systems in one area</li>
                        <li>Use <strong>Scale Spawn</strong> carefully - can create lag with many players</li>
                        <li>Test spawns on your <strong>test server</strong> first</li>
                        <li>Monitor <strong>spawn statistics</strong> with the heatmap feature</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-clipboard-check me-2"></span>Testing Workflow</h6>
                    <ol>
                        <li>Create spawns in the editor</li>
                        <li>Binary files auto-sync to server INPUT folder (if configured)</li>
                        <li>Use <code>[SpawnReload</code> in-game to load changes</li>
                        <li>Open <code>[SpawnAdmin</code> to monitor status and metrics</li>
                        <li>Toggle <code>[DebugRespawn</code> to visualize spawn zones</li>
                        <li>Adjust in editor and reload as needed</li>
                        <li>Use <code>[PushRespawnStats</code> to generate heatmap data</li>
                    </ol>

                    <div class="alert alert-success mt-3">
                        <span class="bi bi-check-circle"></span> <strong>Remember:</strong> Save your work using the 
                        <strong>Save All</strong> button in the navigation menu. Changes are also automatically saved 
                        when the application closes, so your work is always preserved.
                    </div>
                </div>
            </div>

            <!-- 12. Debug Mode -->
            <div class="card map-card mb-4" id="debug-mode">
                <div class="card-header">
                    <strong><span class="bi bi-bug"></span> 12. Debug Mode</strong>
                </div>
                <div class="card-body">
                    <h6 class="text-primary"><span class="bi bi-question-circle me-2"></span>What is Debug Mode?</h6>
                    <p>
                        Debug Mode provides an in-app log viewer panel that displays real-time application logs.
                        This is useful for troubleshooting issues, monitoring app activity, and testing functionality 
                        without needing to open external log files.
                    </p>

                    <h6 class="text-primary mt-4"><span class="bi bi-toggle-on me-2"></span>Enabling Debug Mode</h6>
                    <ol>
                        <li>Go to <strong>Settings</strong></li>
                        <li>Scroll to the bottom to find <strong>Developer Tools</strong> (purple section)</li>
                        <li>Toggle <strong>Debug Mode</strong> on</li>
                        <li>A debug panel will appear on the right side of the app</li>
                    </ol>

                    <h6 class="text-primary mt-4"><span class="bi bi-ui-checks me-2"></span>Debug Panel Features</h6>
                    <ul>
                        <li><strong>Live Log Viewer:</strong> Shows all application logs in real-time</li>
                        <li><strong>Session History:</strong> When enabled, loads all logs from the current session (even from before you turned it on!)</li>
                        <li><strong>Log Levels:</strong> Color-coded entries for INFO (blue), WARNING (yellow), and ERROR (red)</li>
                        <li><strong>Stats Bar:</strong> Shows count of each log level type</li>
                        <li><strong>Collapsible:</strong> Click the header to collapse/expand the panel</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-tools me-2"></span>Toolbar Buttons</h6>
                    <table class="table table-dark table-sm">
                        <thead>
                            <tr>
                                <th>Button</th>
                                <th>Function</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Bookmark</strong></td>
                                <td>Add a visual mark/separator in the log for reference</td>
                            </tr>
                            <tr>
                                <td><strong>Play</strong></td>
                                <td>Start a numbered test marker (useful for manual testing)</td>
                            </tr>
                            <tr>
                                <td><strong>Stop</strong></td>
                                <td>End the current test marker</td>
                            </tr>
                            <tr>
                                <td><strong>Copy</strong></td>
                                <td>Copy all log entries to clipboard (for sharing or bug reports)</td>
                            </tr>
                            <tr>
                                <td><strong>Trash</strong></td>
                                <td>Clear all entries from the debug panel</td>
                            </tr>
                        </tbody>
                    </table>

                    <h6 class="text-primary mt-4"><span class="bi bi-file-text me-2"></span>Log Files</h6>
                    <p>
                        Application logs are also saved to files in the <code>Data/Logs</code> folder.
                        Log files are named by date (e.g., <code>uor_spawn_2024-01-15.log</code>) and are 
                        automatically cleaned up after 7 days.
                    </p>

                    <div class="alert alert-info mt-3">
                        <span class="bi bi-lightbulb"></span> <strong>Tip:</strong> If you experience an issue, 
                        enable Debug Mode, reproduce the problem, then use the <strong>Copy</strong> button to 
                        capture the logs for a bug report!
                    </div>
                </div>
            </div>

            <!-- 13. Support & Resources -->
            <div class="card map-card mb-4" id="support">
                <div class="card-header">
                    <strong><span class="bi bi-question-circle"></span> 13. Support & Resources</strong>
                </div>
                <div class="card-body">
                    <h6 class="text-primary"><span class="bi bi-life-preserver me-2"></span>Need Help?</h6>
                    <p>For support, questions, or feature requests, please contact:</p>
                    <ul>
                        <li>
                            <strong>Wilson (Creator):</strong> 
                            <a href="https://www.servuo.com/members/wilson.12169/" target="_blank">
                                ServUO Profile
                            </a>
                        </li>
                        <li><strong>ServUO Community:</strong> <a href="https://www.servuo.com" target="_blank">www.servuo.com</a></li>
                        <li><strong>ServUO Discord:</strong> Join for real-time community support and discussions</li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-link-45deg me-2"></span>Additional Resources</h6>
                    <ul>
                        <li><strong>Bestiary:</strong> 600+ creatures included by default, fully customizable</li>
                        <li><strong>Map Support:</strong> All 6 standard UO maps (Felucca, Trammel, Ilshenar, Malas, Tokuno, Ter Mur)</li>
                        <li><strong>Custom Content:</strong> Add your own custom creatures to the bestiary</li>
                        <li><strong>Server Scripts:</strong> Complete C# source code included in UORespawnSystem folder</li>
                        <li><strong>Cross-Platform:</strong> Works on Windows and macOS</li>
                        <li>
                            <strong>GitHub Repository:</strong> 
                            <a href="https://github.com/Kita72/UORespawnProject" target="_blank">
                                github.com/Kita72/UORespawnProject
                            </a>
                            <br />
                            <small class="text-muted">View source code, report issues, and contribute to the project</small>
                        </li>
                    </ul>

                    <h6 class="text-primary mt-4"><span class="bi bi-rocket-takeoff me-2"></span>What's New in v2.0</h6>
                    <ul>
                        <li><strong>Binary Serialization:</strong> Faster file loading with .bin format</li>
                        <li><strong>Region Spawn System:</strong> Spawn by named game regions</li>
                        <li><strong>Vendor Spawn System:</strong> Configure vendors per shop sign/hive location</li>
                        <li><strong>Auto-Generated Data:</strong> Server creates reference files on startup (no manual commands!)</li>
                        <li><strong>Admin GUI:</strong> Professional in-game control panel</li>
                        <li><strong>Intelligent Recycling:</strong> Better performance through mobile reuse</li>
                        <li><strong>INPUT/OUTPUT Structure:</strong> Clean separation of editor→server and server→editor files</li>
                        <li><strong>Spawn Packs:</strong> Import, export, and share spawn configurations</li>
                    </ul>

                    <div class="alert alert-primary mt-3">
                        <span class="bi bi-heart-fill"></span> <strong>Thank you for using UORespawn v2.0!</strong>
                        <p class="mb-0 mt-2 small">
                            This tool was created to make spawn management easier and more powerful for the 
                            ServUO community. Happy spawning!
                        </p>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<!-- Back to Top Button -->
<a href="#" class="back-to-top" @onclick="ScrollToTop" @onclick:preventDefault title="Back to Top">
    <span class="bi bi-arrow-up-circle-fill"></span>
</a>

<style>
    .back-to-top {
        position: fixed;
        bottom: 30px;
        right: 30px;
        z-index: 1000;
        width: 44px;
        height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #1a1a2e;
        border-radius: 50%;
        text-decoration: none;
        transition: all 0.3s ease;
        box-shadow: 0 0 12px rgba(218, 165, 32, 0.5), 0 0 20px rgba(218, 165, 32, 0.3);
    }

    .back-to-top:hover {
        transform: translateY(-3px);
        box-shadow: 0 0 18px rgba(218, 165, 32, 0.8), 0 0 30px rgba(255, 215, 0, 0.5), 0 0 40px rgba(218, 165, 32, 0.3);
    }

    .back-to-top .bi {
        font-size: 2rem;
        color: goldenrod;
        transition: color 0.3s ease;
    }

    .back-to-top:hover .bi {
        color: #ffd700;
    }
</style>

@code {
    [Inject] private IJSRuntime JS { get; set; } = default!;

    private async Task ScrollToTop()
    {
        await JS.InvokeVoidAsync("scrollTo", new { top = 0, behavior = "smooth" });
    }
}
